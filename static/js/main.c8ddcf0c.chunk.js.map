{"version":3,"sources":["components/operation/operation.js","components/header/header.js","components/history/history.js","components/total/total.js","components/app/app.js","index.js"],"names":["Operations","props","className","id","type","placeholder","value","operation","onChange","evt","onInputChange","amount","onClick","onButtonClick","Header","History","transactions","onDeleteClick","map","item","key","Total","balance","incomes","expenses","App","state","JSON","parse","localStorage","getItem","income","buttonClickHandler","bind","inputChangeHandler","onDeleteClickHandler","this","getBudget","saveData","target","newTransaction","classList","contains","Date","toString","newState","setState","index","findIndex","newTransactions","slice","forEach","setItem","stringify","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kOA4CeA,EA1CI,SAACC,GAChB,OACI,6BAASC,UAAU,aACf,+GACA,0BAAMC,GAAG,QACL,+BACI,2BACIC,KAAK,OACLF,UAAU,oCACVG,YAAY,4HACZC,MAAOL,EAAMM,UACbC,SAAU,SAACC,GAAD,OAASR,EAAMS,cAAcD,OAG/C,+BACI,2BACIL,KAAK,SACLF,UAAU,sCACVG,YAAY,4EACZC,MAAOL,EAAMU,OACbH,SAAU,SAACC,GAAD,OAASR,EAAMS,cAAcD,OAG/C,yBAAKP,UAAU,mBACX,4BACIE,KAAK,SACLF,UAAU,yCACVU,QAAS,SAACH,GAAD,OAASR,EAAMY,cAAcJ,KAH1C,wCAMA,4BACIL,KAAK,SACLF,UAAU,oCACVU,QAAS,SAACH,GAAD,OAASR,EAAMY,cAAcJ,KAH1C,sCCrBLK,EATA,WACd,OACC,gCACC,0EACA,qJCgBYC,EApBC,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cAC7B,OACI,6BAASf,UAAU,WACf,2HACA,wBAAIA,UAAU,iBACTc,EAAaE,KAAI,SAACC,GACf,OAAQ,wBAAIjB,UAAS,sCAAiCiB,EAAKf,KAAO,OAAS,SAAWgB,IAAKD,EAAKC,KAC3FD,EAAKZ,UACN,0BAAML,UAAU,kBAAkBiB,EAAKR,QACvC,4BACIT,UAAU,kBACVU,QAAS,kBAAMK,EAAcE,EAAKC,OAFtC,YCaTC,EAtBD,SAACpB,GAAW,IAClBqB,EAA8BrB,EAA9BqB,QAASC,EAAqBtB,EAArBsB,QAASC,EAAYvB,EAAZuB,SACzB,OACC,6BAAStB,UAAU,SAClB,4BAAQA,UAAU,iBACjB,oEACA,uBAAGA,UAAU,kBAAkBoB,IAEhC,yBAAKpB,UAAU,eACd,yBAAKA,UAAU,kCACd,oEACA,uBAAGA,UAAU,oCAAoCqB,IAElD,yBAAKrB,UAAU,oCACd,0EACA,uBAAGA,UAAU,sCAAsCsB,OCXnCC,E,kDACpB,aAAe,IAAD,8BACb,gBACKC,MAAQ,CACZV,aAAcW,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAChEvB,UAAW,GACXI,OAAQ,GACRP,KAAM,GACNkB,QAAS,GACTS,OAAQ,GACRP,SAAU,IAGX,EAAKQ,mBAAqB,EAAKA,mBAAmBC,KAAxB,gBAC1B,EAAKC,mBAAqB,EAAKA,mBAAmBD,KAAxB,gBAC1B,EAAKE,qBAAuB,EAAKA,qBAAqBF,KAA1B,gBAdf,E,gEAkBbG,KAAKC,c,2CAILD,KAAKE,a,yCAGa7B,GAAM,IAAD,EACK2B,KAAKV,MAA1BnB,EADgB,EAChBA,UAAWI,EADK,EACLA,OACZ4B,EAAS9B,EAAI8B,OACZvB,EAAgBoB,KAAKV,MAArBV,aACDwB,EAAiB,CACtBjC,YACAI,SACAP,OAAQmC,EAAOE,UAAUC,SAAS,sBAClCtB,IAAI,KAAD,SAAS,IAAIuB,MAAQC,SAAS,MAE5BC,EAAW,CAChB7B,aAAa,GAAD,mBAAMA,GAAN,CAAoBwB,IAChCjC,UAAW,GACXI,OAAQ,GACRP,KAAM,IAEHG,GAAaI,GAChByB,KAAKU,SAASD,EAAUT,KAAKC,a,yCAIZ5B,GAClB,IAAMH,EAAQG,EAAI8B,OAAOjC,MACzBG,EAAI8B,OAAOE,UAAUC,SAAS,mBAC3BN,KAAKU,SAAS,CAACvC,UAAWD,IAC1B8B,KAAKU,SAAS,CAACnC,OAAQL,M,2CAGNc,GACpB,IAAMJ,EAAeoB,KAAKV,MAAMV,aAC1B+B,EAAQ/B,EAAagC,WAAU,SAAC7B,GAAD,OAAUA,EAAKC,MAAQA,KACtD6B,EAAe,sBAAOjC,EAAakC,MAAM,EAAGH,IAA7B,YAAwC/B,EAAakC,MAAMH,EAAQ,KACxFX,KAAKU,SAAS,CAAC9B,aAAciC,GAAkBb,KAAKC,a,kCAGxC,IACLrB,EAAgBoB,KAAKV,MAArBV,aACHM,EAAU,EACbS,EAAS,EACTP,EAAW,EACZR,EAAamC,SAAQ,SAAChC,GAAU,IACxBf,EAAgBe,EAAhBf,KAAMO,EAAUQ,EAAVR,OACTP,GACHkB,IAAYX,EACZoB,IAAWpB,IAEXW,IAAYX,EACZa,IAAab,MAGfyB,KAAKU,SAAS,CAACxB,UAASS,SAAQP,e,iCAIhCK,aAAauB,QAAQ,aAAczB,KAAK0B,UAAUjB,KAAKV,MAAMV,iB,+BAGpD,IAAD,EAC6DoB,KAAKV,MAAnEV,EADC,EACDA,aAAcM,EADb,EACaA,QAASS,EADtB,EACsBA,OAAQP,EAD9B,EAC8BA,SAAUjB,EADxC,EACwCA,UAAWI,EADnD,EACmDA,OAC3D,OACC,oCACC,kBAAC,EAAD,MAEA,8BACC,yBAAKT,UAAU,aACd,kBAAC,EAAD,CAAOoB,QAASA,EAASC,QAASQ,EAAQP,SAAUA,IAEpD,kBAAC,EAAD,CAASR,aAAcA,EAAcC,cAAemB,KAAKD,uBAEzD,kBAAC,EAAD,CACC5B,UAAWA,EACXI,OAAQA,EACRE,cAAeuB,KAAKJ,mBACpBtB,cAAe0B,KAAKF,4B,GAnGMoB,a,YCAjCC,IAASC,OACR,kBAAC,IAAMC,WAAP,KACC,kBAAC,EAAD,OAEDC,SAASC,eAAe,U","file":"static/js/main.c8ddcf0c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Operations = (props) => {\r\n    return (\r\n        <section className=\"operation\">\r\n            <h3>Новая операция</h3>\r\n            <form id=\"form\">\r\n                <label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"operation__fields operation__name\"\r\n                        placeholder=\"Наименование операции\"\r\n                        value={props.operation}\r\n                        onChange={(evt) => props.onInputChange(evt)}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    <input\r\n                        type=\"number\"\r\n                        className=\"operation__fields operation__amount\"\r\n                        placeholder=\"Введите сумму\"\r\n                        value={props.amount}\r\n                        onChange={(evt) => props.onInputChange(evt)}\r\n                    />\r\n                </label>\r\n                <div className=\"operation__btns\">\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"operation__btn operation__btn-subtract\"\r\n                        onClick={(evt) => props.onButtonClick(evt)}>\r\n                        РАСХОД\r\n\t\t\t\t\t\t\t\t</button>\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"operation__btn operation__btn-add\"\r\n                        onClick={(evt) => props.onButtonClick(evt)}>\r\n                        ДОХОД\r\n\t\t\t\t\t\t\t\t</button>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Operations;","import React from 'react';\r\n\r\nconst Header = () => {\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<h1>Кошелек</h1>\r\n\t\t\t<h2>Калькулятор расходов</h2>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst History = ({ transactions, onDeleteClick }) => {\r\n    return (\r\n        <section className=\"history\">\r\n            <h3>История расходов</h3>\r\n            <ul className=\"history__list\">\r\n                {transactions.map((item) => {\r\n                    return (<li className={`history__item history__item-${item.type ? 'plus' : 'minus'}`} key={item.key}>\r\n                        {item.operation}\r\n                        <span className=\"history__money\">{item.amount}</span>\r\n                        <button\r\n                            className=\"history__delete\"\r\n                            onClick={() => onDeleteClick(item.key)}>x</button>\r\n                    </li>)\r\n                })}\r\n            </ul>\r\n        </section>\r\n    )\r\n}\r\n\r\n\r\nexport default History;","import React from 'react';\r\n\r\nconst Total = (props) => {\r\n\tconst {balance, incomes, expenses} = props;\r\n\treturn (\r\n\t\t<section className=\"total\">\r\n\t\t\t<header className=\"total__header\">\r\n\t\t\t\t<h3>Баланс</h3>\r\n\t\t\t\t<p className=\"total__balance\">{balance}</p>\r\n\t\t\t</header>\r\n\t\t\t<div className=\"total__main\">\r\n\t\t\t\t<div className=\"total__main-item total__income\">\r\n\t\t\t\t\t<h4>Доходы</h4>\r\n\t\t\t\t\t<p className=\"total__money total__money-income\">{incomes}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"total__main-item total__expenses\">\r\n\t\t\t\t\t<h4>Расходы</h4>\r\n\t\t\t\t\t<p className=\"total__money total__money-expenses\">{expenses}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Total;\r\n","import React, {Component} from 'react';\r\nimport Operations from '../operation/operation';\r\nimport Header from '../header/header';\r\nimport History from '../history/history';\r\nimport Total from '../total/total';\r\n\r\nexport default class App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttransactions: JSON.parse(localStorage.getItem('Budget App')) || [],\r\n\t\t\toperation: '',\r\n\t\t\tamount: '',\r\n\t\t\ttype: '',\r\n\t\t\tbalance: '',\r\n\t\t\tincome: '',\r\n\t\t\texpenses: '',\r\n\t\t};\r\n\r\n\t\tthis.buttonClickHandler = this.buttonClickHandler.bind(this);\r\n\t\tthis.inputChangeHandler = this.inputChangeHandler.bind(this);\r\n\t\tthis.onDeleteClickHandler = this.onDeleteClickHandler.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getBudget();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.saveData();\r\n\t}\r\n\r\n\tbuttonClickHandler(evt) {\r\n\t\tconst {operation, amount} = this.state;\r\n\t\tconst target = evt.target;\r\n\t\tconst {transactions} = this.state;\r\n\t\tconst newTransaction = {\r\n\t\t\toperation,\r\n\t\t\tamount,\r\n\t\t\ttype: !!target.classList.contains('operation__btn-add'),\r\n\t\t\tkey: `fr${(+new Date()).toString(16)}`,\r\n\t\t};\r\n\t\tconst newState = {\r\n\t\t\ttransactions: [...transactions, newTransaction],\r\n\t\t\toperation: '',\r\n\t\t\tamount: '',\r\n\t\t\ttype: '',\r\n\t\t};\r\n\t\tif (operation && amount) {\r\n\t\t\tthis.setState(newState, this.getBudget);\r\n\t\t}\r\n\t}\r\n\r\n\tinputChangeHandler(evt) {\r\n\t\tconst value = evt.target.value;\r\n\t\tevt.target.classList.contains('operation__name')\r\n\t\t\t? this.setState({operation: value})\r\n\t\t\t: this.setState({amount: value});\r\n\t}\r\n\r\n\tonDeleteClickHandler(key) {\r\n\t\tconst transactions = this.state.transactions;\r\n\t\tconst index = transactions.findIndex((item) => item.key === key);\r\n\t\tconst newTransactions = [...transactions.slice(0, index), ...transactions.slice(index + 1)];\r\n\t\tthis.setState({transactions: newTransactions}, this.getBudget);\r\n\t}\r\n\r\n\tgetBudget() {\r\n\t\tconst {transactions} = this.state;\r\n\t\tlet balance = 0,\r\n\t\t\tincome = 0,\r\n\t\t\texpenses = 0;\r\n\t\ttransactions.forEach((item) => {\r\n\t\t\tconst {type, amount} = item;\r\n\t\t\tif (type) {\r\n\t\t\t\tbalance += +amount;\r\n\t\t\t\tincome += +amount;\r\n\t\t\t} else {\r\n\t\t\t\tbalance -= +amount;\r\n\t\t\t\texpenses += +amount;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setState({balance, income, expenses});\r\n\t}\r\n\r\n\tsaveData() {\r\n\t\tlocalStorage.setItem('Budget App', JSON.stringify(this.state.transactions));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {transactions, balance, income, expenses, operation, amount} = this.state;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<Total balance={balance} incomes={income} expenses={expenses} />\r\n\r\n\t\t\t\t\t\t<History transactions={transactions} onDeleteClick={this.onDeleteClickHandler} />\r\n\r\n\t\t\t\t\t\t<Operations\r\n\t\t\t\t\t\t\toperation={operation}\r\n\t\t\t\t\t\t\tamount={amount}\r\n\t\t\t\t\t\t\tonButtonClick={this.buttonClickHandler}\r\n\t\t\t\t\t\t\tonInputChange={this.inputChangeHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</main>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app';\r\nimport './normalize.css';\r\nimport './style.css';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}